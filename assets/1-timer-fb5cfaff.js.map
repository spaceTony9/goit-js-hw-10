{"version":3,"file":"1-timer-fb5cfaff.js","sources":["../../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n\nimport izitoast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst startButton = document.querySelector('button[data-start]');\nconst days = document.querySelector('span[data-days');\nconst hours = document.querySelector('span[data-hours');\nconst minutes = document.querySelector('span[data-minutes');\nconst seconds = document.querySelector('span[data-seconds');\nconst values = document.querySelectorAll('.value');\n\nlet userSelectedDate = null;\nlet currentTime = new Date();\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    selectedDates = selectedDates[0];\n    userSelectedDate = selectedDates;\n    if (currentTime.getTime() < selectedDates.getTime()) {\n      startButton.disabled = false;\n    } else {\n      startButton.disabled = true;\n      izitoast.show({\n        message: 'Please choose a date in the future',\n        messageColor: 'white',\n        backgroundColor: '#e34234',\n        position: 'topRight',\n      });\n      //   window.alert('Please choose a date in the future');\n    }\n  },\n};\n\nflatpickr('#datetime-picker', options);\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nstartButton.addEventListener('click', e => {\n  timerCounter();\n});\n\nfunction timerCounter() {\n  let currentTime = new Date();\n  let timeDifference = userSelectedDate.getTime() - currentTime.getTime();\n  // console.log(timeDifference);\n  let result = convertMs(timeDifference);\n  days.textContent = result.days;\n  hours.textContent = result.hours;\n  minutes.textContent = result.minutes;\n  seconds.textContent = result.seconds;\n  values.forEach(child => {\n    child.textContent =\n      child.textContent.length < 2\n        ? '0' + child.textContent\n        : child.textContent;\n    if (timeDifference > 0) {\n      setTimeout(timerCounter, 1000);\n    } else return 1;\n  });\n}\n\n// setTimeout(() => {\n//   const result = convertMs(timeDifference);\n//   days.textContent = result.days;\n//   hours.textContent = result.hours;\n//   minutes.textContent = result.minutes;\n//   seconds.textContent = result.seconds;\n//   values.forEach(child => {\n//     child.textContent =\n//       child.textContent.length < 2\n//         ? '0' + child.textContent\n//         : child.textContent;\n//   });\n//   //   console.log(days.textContent.padStart(3, '00'));\n// }, 8000);\n\n// const resultKeys = Object.keys(result).map(key =>\n//   key < 10 ? key.padStart(1, '0') : []\n// );\n//   for (let key in result) {\n//     result[key] = result[key] < 10 ? '0' + result[key] : result[key];\n//     console.log(result[key]);\n//   }\n// if (result.days < 10) {\n//     days.textContent = days.textContent.toString().padStart(2, '0');\n//   } else if (result.hours < 10) {\n//     hours.textContent = hours.textContent.toString().padStart(2, '0');\n//   } else if (result.minutes < 10) {\n//     minutes.textContent = minutes.textContent.toString().padStart(2, '0');\n//   } else if (result.seconds < 10) {\n//     seconds.textContent = seconds.textContent.toString().padStart(2, '0');\n//   }\n"],"names":["startButton","days","hours","minutes","seconds","values","userSelectedDate","currentTime","options","selectedDates","izitoast","flatpickr","convertMs","ms","e","timerCounter","timeDifference","result","child"],"mappings":"gDAMA,MAAMA,EAAc,SAAS,cAAc,oBAAoB,EACzDC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAQ,SAAS,cAAc,iBAAiB,EAChDC,EAAU,SAAS,cAAc,mBAAmB,EACpDC,EAAU,SAAS,cAAc,mBAAmB,EACpDC,EAAS,SAAS,iBAAiB,QAAQ,EAEjD,IAAIC,EAAmB,KACnBC,EAAc,IAAI,KAEtB,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBA,EAAgBA,EAAc,CAAC,EAC/BH,EAAmBG,EACfF,EAAY,QAAO,EAAKE,EAAc,QAAO,EAC/CT,EAAY,SAAW,IAEvBA,EAAY,SAAW,GACvBU,EAAS,KAAK,CACZ,QAAS,qCACT,aAAc,QACd,gBAAiB,UACjB,SAAU,UAClB,CAAO,EAGJ,CACH,EAEAC,EAAU,mBAAoBH,CAAO,EAErC,SAASI,EAAUC,EAAI,CAQrB,MAAMZ,EAAO,KAAK,MAAMY,EAAK,KAAG,EAE1BX,EAAQ,KAAK,MAAOW,EAAK,MAAO,IAAI,EAEpCV,EAAU,KAAK,MAAQU,EAAK,MAAO,KAAQ,GAAM,EAEjDT,EAAU,KAAK,MAASS,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAZ,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEAJ,EAAY,iBAAiB,QAASc,GAAK,CACzCC,GACF,CAAC,EAED,SAASA,GAAe,CACtB,IAAIR,EAAc,IAAI,KAClBS,EAAiBV,EAAiB,QAAS,EAAGC,EAAY,QAAO,EAEjEU,EAASL,EAAUI,CAAc,EACrCf,EAAK,YAAcgB,EAAO,KAC1Bf,EAAM,YAAce,EAAO,MAC3Bd,EAAQ,YAAcc,EAAO,QAC7Bb,EAAQ,YAAca,EAAO,QAC7BZ,EAAO,QAAQa,GAAS,CAKtB,GAJAA,EAAM,YACJA,EAAM,YAAY,OAAS,EACvB,IAAMA,EAAM,YACZA,EAAM,YACRF,EAAiB,EACnB,WAAWD,EAAc,GAAI,MACxB,OAAO,EAClB,CAAG,CACH"}